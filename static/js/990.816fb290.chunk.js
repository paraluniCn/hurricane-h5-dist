"use strict";(self.webpackChunkbtb_hurricane=self.webpackChunkbtb_hurricane||[]).push([[990],{1990:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var t=s(8282),l=s(8008),i=s(7740),n=s(3676),c=s(5568),d=s(8922),r=s(7537),o=s(281),u=s(8834);const v="BSCTEST"==d.S5?"https://asset-launch-api.iftas.tech":"https://airdrop.paraluni.org";function h(){const[e,a]=(0,t.useState)([]),[s,h]=(0,t.useState)(""),[b,p]=(0,t.useState)([{key:"first",value:""}]),[x,m]=(0,t.useState)(""),{user:f}=(0,n.A)(),g=async()=>{try{var e;const t=await i.A.get("".concat(v,"/btc/history?bsc_address=").concat(f.address));var s;if(null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.ok)a(null===t||void 0===t?void 0:t.data.data);else(0,c.P1)(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.msg)}catch(t){}finally{(0,c.bD)()}},j=(e,a)=>{b[e].value=a,p((0,o.cloneDeep)(b))};return(0,t.useEffect)(()=>{f.address&&g()},[f.address]),(0,u.jsxs)("div",{className:"bate-bg",children:[(0,u.jsx)("div",{className:"bate-title",children:"BTBT\u5347\u7ea7"}),(0,u.jsx)("div",{className:"bate-dec",children:"\u5c06\u60a8\u7684Beta4\u7248BTBT\u5347\u7ea7\u81f3Beta6\u7248"}),(0,u.jsx)("img",{className:"bate-img",src:"".concat(d.nG,"/hurricane/pageBanner.png")}),(0,u.jsx)("div",{className:"bate-inputdec",children:"\u539f\u63a5\u6536BTBT\u7684BTC\u5730\u5740"}),b.map((e,a)=>(0,u.jsxs)("div",{className:"flex-row fl-ai-center",style:{position:"relative",marginBottom:"12px"},children:[(0,u.jsx)("input",{value:e.value,onChange:e=>j(a,e.target.value),placeholder:"\u8bf7\u8f93\u5165\u6216\u7c98\u8d34\u63a5\u6536BTBT Beta4-5\u7684\u5730\u5740",className:"bate-input"}),e.value&&(0,u.jsx)(r.bm,{style:"first"==e.key?{right:"5px"}:{},className:"btc-input-close",onClick:()=>j(a,"")}),"first"!=e.key?(0,u.jsx)(r.epd,{style:{fontSize:"20px",marginLeft:"5px"},onClick:()=>{(e=>{b.splice(e,1),p((0,o.cloneDeep)(b))})(a)}}):null]},e.key)),(0,u.jsx)("div",{className:"flex-center",style:{color:"#575b65"},children:(0,u.jsxs)("div",{className:"flex-row",onClick:()=>{if(b.length>=10)return(0,l.y8)("\u6700\u591a\u66f4\u653910\u6761");b.push({key:+new Date,value:""}),p((0,o.cloneDeep)(b))},children:[(0,u.jsx)(r.OMN,{style:{fontSize:"20px",marginRight:"5px",color:"#575b65"}})," \u6dfb\u52a0\u5730\u5740"]})}),(0,u.jsx)("div",{className:"bate-inputdec",children:"TP RGB/LN\u7684BTC\u5730\u5740"}),(0,u.jsxs)("div",{style:{position:"relative",marginBottom:"12px"},children:[(0,u.jsx)("input",{value:s,onChange:e=>h(e.target.value),placeholder:"\u8bf7\u8f93\u5165\u6216\u7c98\u8d34TP wallet\u65b0\u5efa\u7684RGB/LN\u5730\u5740",className:"bate-input"}),s&&(0,u.jsx)(r.bm,{className:"btc-input-close",onClick:()=>h("")})]}),(0,u.jsx)("div",{className:"bate-btn",onClick:async()=>{const e=b.filter(e=>e.value).map(e=>e.value);if(e.length!=b.length)return(0,l.y8)("\u6709\u672a\u586b\u5199\u7684\u5185\u5bb9");if(!s)return(0,l.y8)("\u8bf7\u8f93\u5165TP wallet\u65b0\u5efa\u7684RGB/LN\u5730\u5740");if(!e.length)return(0,l.y8)("\u8bf7\u8f93\u5165BTBT Beta4-5\u7684\u5730\u5740");if(!f.address)return(0,l.y8)("\u672a\u8fde\u63a5\u94b1\u5305");const a=window.btoa(JSON.stringify({old_btc_address:e,new_btc_address:s})),t=await(0,c.lq)(a,f.address);if(t){(0,c.Cs)();try{var n;const e=await i.A.post("".concat(v,"/btc/address"),{signature:t,signature_message:a});var d;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.ok)h(""),p([{key:"first",value:""}]),g(),(0,c.P1)("\u5347\u7ea7\u6210\u529f");else(0,c.P1)(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.msg)}catch(r){}finally{(0,c.bD)()}}},children:"\u786e\u8ba4\u5347\u7ea7"}),(0,u.jsxs)("div",{className:"bate-record",children:[(0,u.jsx)("div",{className:"bate-recorddec",children:"\u5347\u7ea7\u8bb0\u5f55"}),(0,u.jsxs)("div",{className:"bate-recordtitle",children:[(0,u.jsx)("div",{children:"\u4ece"}),(0,u.jsx)("div",{children:"\u81f3"}),(0,u.jsx)("div",{children:"\u6570\u91cf(BTBT)"})]}),e.map(e=>(0,u.jsxs)("div",{className:"bate-recorditem",children:[(0,u.jsx)("div",{children:(0,c.gn)(e.old_btc_address)}),(0,u.jsx)("div",{children:(0,c.gn)(e.new_btc_address)}),(0,u.jsx)("div",{children:(0,c.fm)(e.btbt_amount,8).toFixed()})]},e.old_btc_address)),e.length?null:(0,u.jsx)(l.Sv,{description:"\u6682\u65e0\u8bb0\u5f55"})]})]})}}}]);